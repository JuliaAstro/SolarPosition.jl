<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Utilities · SolarPosition.jl</title><meta name="title" content="Utilities · SolarPosition.jl"/><meta property="og:title" content="Utilities · SolarPosition.jl"/><meta property="twitter:title" content="Utilities · SolarPosition.jl"/><meta name="description" content="Documentation for SolarPosition.jl."/><meta property="og:description" content="Documentation for SolarPosition.jl."/><meta property="twitter:description" content="Documentation for SolarPosition.jl."/><meta property="og:url" content="https://juliaastro.org/SolarPosition/stable/utilities/"/><meta property="twitter:url" content="https://juliaastro.org/SolarPosition/stable/utilities/"/><link rel="canonical" href="https://juliaastro.org/SolarPosition/stable/utilities/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/citations.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SolarPosition.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Guides</span><ul><li><a class="tocitem" href="../guides/getting-started/">Getting Started</a></li><li><a class="tocitem" href="../guides/plotting/">Plotting with Makie.jl</a></li><li><a class="tocitem" href="../guides/parallel/">Parallel Computing with OhMyThreads.jl</a></li><li><a class="tocitem" href="../guides/modelingtoolkit/">Building models with ModelingToolkit.jl</a></li><li><a class="tocitem" href="../guides/benchmarking/">Benchmarking</a></li><li><a class="tocitem" href="../guides/new-algorithm/">Adding a New Solar Position Algorithm</a></li></ul></li><li><a class="tocitem" href="../reference/">API reference</a></li><li><a class="tocitem" href="../positioning/">Solar Positioning</a></li><li><a class="tocitem" href="../refraction/">Refraction Correction</a></li><li class="is-active"><a class="tocitem" href>Utilities</a><ul class="internal"><li><a class="tocitem" href="#Sunrise,-Sunset,-and-Solar-Noon"><span>Sunrise, Sunset, and Solar Noon</span></a></li><li><a class="tocitem" href="#Example:-Sunrise-and-Sunset"><span>Example: Sunrise and Sunset</span></a></li><li><a class="tocitem" href="#Plotting-the-Solar-Altitude"><span>Plotting the Solar Altitude</span></a></li><li><a class="tocitem" href="#Sun-Graph"><span>Sun Graph</span></a></li><li><a class="tocitem" href="#Date,-DateTime-and-ZonedDateTime"><span>Date, DateTime and ZonedDateTime</span></a></li><li><a class="tocitem" href="#Forward-looking-functions"><span>Forward looking functions</span></a></li><li><a class="tocitem" href="#Backward-looking-functions"><span>Backward looking functions</span></a></li><li><a class="tocitem" href="#Docs"><span>Docs</span></a></li></ul></li><li><a class="tocitem" href="../deltat/">Delta T (ΔT)</a></li><li><a class="tocitem" href="../literature/">Literature</a></li><li><a class="tocitem" href="../contributing/">Contributing guidelines</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Utilities</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Utilities</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaAstro/SolarPosition.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaAstro/SolarPosition.jl/blob/main/docs/src/utilities.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="utilities"><a class="docs-heading-anchor" href="#utilities">Utilities</a><a id="utilities-1"></a><a class="docs-heading-anchor-permalink" href="#utilities" title="Permalink"></a></h1><p><code>SolarPosition.jl</code> provides several utility functions for common solar position-related calculations, such as determining solar transit, sunrise, and sunset times for a given location and date.</p><p>For now, only the analytical <a href="../positioning/#spa-algorithm">SPA</a> algorithm is supported for these utility functions. This algorithm was developed by <a href="https://en.wikipedia.org/wiki/Jean_Meeus">Jean Meeus</a> in his book <em>Astronomical Algorithms</em> [<a href="../literature/#MEEUS91">Mee91</a>] and is widely used in the astronomical community for solar position calculations, particularly because it is relatively accurate but computationally efficient and simple to implement.</p><h2 id="Sunrise,-Sunset,-and-Solar-Noon"><a class="docs-heading-anchor" href="#Sunrise,-Sunset,-and-Solar-Noon">Sunrise, Sunset, and Solar Noon</a><a id="Sunrise,-Sunset,-and-Solar-Noon-1"></a><a class="docs-heading-anchor-permalink" href="#Sunrise,-Sunset,-and-Solar-Noon" title="Permalink"></a></h2><p>The module exports the following convenience functions:</p><ul><li><a href="#SolarPosition.Utilities.transit_sunrise_sunset"><code>transit_sunrise_sunset</code></a> — solar noon, sunrise, and sunset for a given day</li><li><a href="#SolarPosition.Utilities.next_sunrise"><code>next_sunrise</code></a>, <a href="#SolarPosition.Utilities.previous_sunrise"><code>previous_sunrise</code></a> — sunrise times</li><li><a href="#SolarPosition.Utilities.next_sunset"><code>next_sunset</code></a>, <a href="#SolarPosition.Utilities.previous_sunset"><code>previous_sunset</code></a> — sunset times</li><li><a href="#SolarPosition.Utilities.next_solar_noon"><code>next_solar_noon</code></a>, <a href="#SolarPosition.Utilities.previous_solar_noon"><code>previous_solar_noon</code></a> — solar noon times</li></ul><div class="admonition is-info" id="Info-a2ac9c54ce9b823e"><header class="admonition-header">Info<a class="admonition-anchor" href="#Info-a2ac9c54ce9b823e" title="Permalink"></a></header><div class="admonition-body"><p>Solar noon is defined as the time when the sun reaches its highest elevation for the day. It is also referred to as the solar transit, the point the sun crosses the local meridian. The next/previous sunrise and sunset functions allow you to find the next or previous occurrence of these events relative to a given input time.</p></div></div><h2 id="Example:-Sunrise-and-Sunset"><a class="docs-heading-anchor" href="#Example:-Sunrise-and-Sunset">Example: Sunrise and Sunset</a><a id="Example:-Sunrise-and-Sunset-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-Sunrise-and-Sunset" title="Permalink"></a></h2><p>As an example, let&#39;s calculate the solar noon, sunrise, and sunset times for the Van Gogh museum in Amsterdam on June 21, 2023:</p><pre><code class="language-julia hljs">using SolarPosition, Dates, TimeZones

tz_amsterdam = TimeZone(&quot;Europe/Brussels&quot;)
obs = Observer(52.35888, 4.88185, 100.0)

# Summer solstice
zdt = ZonedDateTime(2023, 6, 21, 12, 0, tz_amsterdam)

events = transit_sunrise_sunset(obs, zdt)

println(&quot;Solar noon: &quot;, events.transit)
println(&quot;Sunrise:    &quot;, events.sunrise)
println(&quot;Sunset:     &quot;, events.sunset)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Solar noon: 2023-06-21T13:42:15+02:00
Sunrise:    2023-06-21T05:18:05+02:00
Sunset:     2023-06-21T22:06:24+02:00</code></pre><p>We can confirm these results by consulting <a href="https://www.timeanddate.com/sun/@52.35888,4.88185?month=6&amp;year=2023">timeanddate.com</a> for our location and date.</p><p>Another option is to use the <a href="#SolarPosition.Utilities.next_sunrise"><code>next_sunrise</code></a> and <a href="#SolarPosition.Utilities.next_sunset"><code>next_sunset</code></a> functions to return the sunrise and sunset times directly:</p><pre><code class="language-julia hljs">using SolarPosition, Dates, TimeZones

next_sunrise_time = next_sunrise(obs, zdt)
next_sunset_time = next_sunset(obs, zdt)
println(&quot;Next Sunrise: &quot;, next_sunrise_time)
println(&quot;Next Sunset:  &quot;, next_sunset_time)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Next Sunrise: 2023-06-22T05:18:19+02:00
Next Sunset:  2023-06-21T22:06:24+02:00</code></pre><h2 id="Plotting-the-Solar-Altitude"><a class="docs-heading-anchor" href="#Plotting-the-Solar-Altitude">Plotting the Solar Altitude</a><a id="Plotting-the-Solar-Altitude-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting-the-Solar-Altitude" title="Permalink"></a></h2><p>To visualize the solar altitude throughout the day, we can use the <a href="../reference/#SolarPosition.Positioning.solar_position"><code>solar_position</code></a> function to compute the solar positions at regular intervals and plot the results. We will make use of <a href="#SolarPosition.Utilities.next_sunrise"><code>next_sunrise</code></a> and <a href="#SolarPosition.Utilities.next_sunset"><code>next_sunset</code></a> to mark the sunrise and sunset times on the plot.</p><details class="admonition is-details" id="Visualization-ffac7599f8b03066"><summary class="admonition-header">Visualization<a class="admonition-anchor" href="#Visualization-ffac7599f8b03066" title="Permalink"></a></summary><div class="admonition-body"><pre><code class="language-julia hljs">using CairoMakie

# Define time range for the entire day (every 5 minutes)
start_time = ZonedDateTime(2023, 6, 21, 0, 0, tz_amsterdam)
end_time = ZonedDateTime(2023, 6, 21, 23, 59, tz_amsterdam)
times = collect(start_time:Minute(5):end_time)

# Compute solar positions for all times
positions = solar_position(obs, times)

# Get key events
events = transit_sunrise_sunset(obs, zdt)
sunrise_elev = solar_position(obs, events.sunrise).elevation
sunset_elev = solar_position(obs, events.sunset).elevation
transit_elev = solar_position(obs, events.transit).elevation

# Convert times to hours for plotting
times_hours = hour.(times) .+ minute.(times) ./ 60

# Create the plot with styling
fig = Figure(backgroundcolor=:transparent, textcolor=&quot;#f5ab35&quot;, size=(800, 400))
ax = Axis(fig[1, 1],
    xlabel=&quot;Time (hours)&quot;,
    ylabel=&quot;Solar Altitude (°)&quot;,
    title=&quot;Solar Altitude - Amsterdam, June 21, 2023&quot;,
    backgroundcolor=:transparent,
    xticks=0:3:24)

# Plot the solar altitude curve
lines!(ax, times_hours, positions.elevation,
    linewidth=2, color=&quot;#f5ab35&quot;)

# Add vertical markers and labels for events
sunrise_hour = hour(events.sunrise) + minute(events.sunrise) / 60
transit_hour = hour(events.transit) + minute(events.transit) / 60
sunset_hour = hour(events.sunset) + minute(events.sunset) / 60

vlines!(ax, sunrise_hour, linestyle=:dash, color=:gold, linewidth=1.5)
text!(ax, sunrise_hour, sunrise_elev + 5,
    text=Dates.format(events.sunrise, &quot;HH:MM&quot;),
    align=(:center, :bottom), color=:gold, fontsize=12)

vlines!(ax, transit_hour, linestyle=:dash, color=:red, linewidth=1.5)
text!(ax, transit_hour, transit_elev + 5,
    text=Dates.format(events.transit, &quot;HH:MM&quot;),
    align=(:center, :bottom), color=:red, fontsize=12)

vlines!(ax, sunset_hour, linestyle=:dash, color=:purple, linewidth=1.5)
text!(ax, sunset_hour, sunset_elev + 5,
    text=Dates.format(events.sunset, &quot;HH:MM&quot;),
    align=(:center, :bottom), color=:purple, fontsize=12)

# Add horizontal line at horizon
hlines!(ax, 0, linestyle=:dash, color=:gray, linewidth=1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Makie.HLines{Tuple{Int64}}</code></pre></div></details><img src="c387a53a.png" alt="Example block output"/><p>As you can see, the sunrise and sunset events occur slightly below the horizon line (0° elevation). This is due to atmospheric <a href="../refraction/#refraction-correction">refraction</a> effects, which cause the sun to appear slightly higher in the sky when it is near the horizon.</p><h2 id="Sun-Graph"><a class="docs-heading-anchor" href="#Sun-Graph">Sun Graph</a><a id="Sun-Graph-1"></a><a class="docs-heading-anchor-permalink" href="#Sun-Graph" title="Permalink"></a></h2><p>We can plot the sunrise, sunset, and solar noon times on a sun graph to visualize the number of daylight hours throughout the day for our location in an entire year.</p><details class="admonition is-details" id="Visualization-8f724803be64c6d2"><summary class="admonition-header">Visualization<a class="admonition-anchor" href="#Visualization-8f724803be64c6d2" title="Permalink"></a></summary><div class="admonition-body"><pre><code class="language-julia hljs"># Generate dates for the entire year 2023 (every day)
year_start = ZonedDateTime(2023, 1, 1, 12, 0, tz_amsterdam)
year_dates = [year_start + Day(i) for i in 0:364]

# Calculate sunrise, sunset, and solar noon for each day
sunrise_times = Float64[]
sunset_times = Float64[]
solar_noon_times = Float64[]

for date in year_dates
    events = transit_sunrise_sunset(obs, date)

    # Convert to hours since midnight
    push!(sunrise_times, hour(events.sunrise) + minute(events.sunrise) / 60)
    push!(sunset_times, hour(events.sunset) + minute(events.sunset) / 60)
    push!(solar_noon_times, hour(events.transit) + minute(events.transit) / 60)
end

# Calculate daylight hours for each day
daylight_hours = sunset_times .- sunrise_times

# Find solstices (longest and shortest days)
summer_solstice_idx = argmax(daylight_hours)
winter_solstice_idx = argmin(daylight_hours)

# Create day of year array for x-axis
day_of_year = 1:365

# Create the sun graph
fig = Figure(backgroundcolor=:transparent, textcolor=&quot;#f5ab35&quot;, size=(900, 500))
ax = Axis(fig[1, 1],
    xlabel=&quot;Month&quot;,
    ylabel=&quot;Time (hours)&quot;,
    title=&quot;Sun Graph 2023 - Amsterdam (52.36°N, 4.88°E)&quot;,
    backgroundcolor=:transparent,
    yticks=0:2:24,
    xticks=(
        [1, 32, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335],
        [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;]
    ))

xlims!(ax, 1, 365)

# Fill night time (top part: midnight to sunrise)
band!(ax, day_of_year, sunrise_times, fill(24.0, length(day_of_year)),
    color=(:darkslategray, 0.8))

# Fill night time (bottom part: sunset to midnight)
band!(ax, day_of_year, fill(0.0, length(day_of_year)), sunset_times,
    color=(:darkslategray, 0.8))

# Fill daylight time
band!(ax, day_of_year, sunrise_times, sunset_times,
    color=(:lightblue, 0.6))

# Plot solar noon line
lines!(ax, day_of_year, solar_noon_times,
    color=:red, linewidth=2, label=&quot;Solar Noon&quot;)

# Mark solstices
vlines!(ax, summer_solstice_idx, linestyle=:dash, color=:orange, linewidth=2)
text!(ax, summer_solstice_idx, 12,
    text=&quot;Summer\nSolstice&quot;,
    align=(:center, :bottom), color=:orange, fontsize=10, rotation=π/2)

vlines!(ax, winter_solstice_idx, linestyle=:dash, color=:steelblue, linewidth=2)
text!(ax, winter_solstice_idx, 12,
    text=&quot;Winter\nSolstice&quot;,
    align=(:center, :bottom), color=:steelblue, fontsize=10, rotation=π/2)

ylims!(ax, 0, 24)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">┌ Warning: Assignment to `events` in soft scope is ambiguous because a global variable by the same name exists: `events` will be treated as a new local. Disambiguate by using `local events` to suppress this warning or `global events` to assign to the existing global variable.
└ @ utilities.md:154</code></pre></div></details><img src="4d9b12b1.png" alt="Example block output"/><p>We also marked the summer and winter solstices, which correspond to the longest and shortest days of the year, respectively.</p><div class="admonition is-info" id="Note-e8509ad63da2319a"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-e8509ad63da2319a" title="Permalink"></a></header><div class="admonition-body"><p>Note the two discontinuities in March and October. These are due to the start and end of Daylight Saving Time (DST). The DST period starts on the last Sunday of March and ends on the last Sunday of October. Clocks are set one hour ahead in March, meaning sunrise and sunset times are later by one hour. This effect is reversed in October when clocks are set back one hour. This effectively turns the UTC offset from +1 hour to +2 hours during the DST period.</p></div></div><h2 id="Date,-DateTime-and-ZonedDateTime"><a class="docs-heading-anchor" href="#Date,-DateTime-and-ZonedDateTime">Date, DateTime and ZonedDateTime</a><a id="Date,-DateTime-and-ZonedDateTime-1"></a><a class="docs-heading-anchor-permalink" href="#Date,-DateTime-and-ZonedDateTime" title="Permalink"></a></h2><p>The utility functions accept three different time input types:</p><ul><li><strong><code>ZonedDateTime</code></strong> — Recommended for timezone-aware calculations. The functions will return results in the same timezone as the input.</li><li><strong><code>DateTime</code></strong> — Assumed to be in UTC. Results will be returned as <code>DateTime</code> in UTC.</li><li><strong><code>Date</code></strong> — Assumed to be in UTC. Results will be returned as <code>DateTime</code> in UTC.</li></ul><div class="admonition is-success" id="Tip-ca2d02a260c141e7"><header class="admonition-header">Tip<a class="admonition-anchor" href="#Tip-ca2d02a260c141e7" title="Permalink"></a></header><div class="admonition-body"><p>When working with specific geographic locations, it&#39;s best to use <code>ZonedDateTime</code> to ensure results are in the local timezone and to correctly handle Daylight Saving Time transitions.</p></div></div><p>Here&#39;s an example showing the different input types:</p><pre><code class="language-julia hljs"># Using ZonedDateTime (recommended - timezone aware)
zdt = ZonedDateTime(2023, 6, 21, 12, 0, tz_amsterdam)
events_zdt = transit_sunrise_sunset(obs, zdt)
println(&quot;ZonedDateTime input:&quot;)
println(&quot;  Sunrise: &quot;, events_zdt.sunrise)

# Using DateTime (assumed UTC at 00:00)
dt = DateTime(2023, 6, 21, 12, 0)
events_dt = transit_sunrise_sunset(obs, dt)
println(&quot;\nDateTime input (UTC):&quot;)
println(&quot;  Sunrise: &quot;, events_dt.sunrise)

# Using Date (assumed UTC at 00:00)
d = Date(2023, 6, 21)
events_d = transit_sunrise_sunset(obs, d)
println(&quot;\nDate input (UTC 00:00):&quot;)
println(&quot;  Sunrise: &quot;, events_d.sunrise)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">ZonedDateTime input:
  Sunrise: 2023-06-21T05:18:05+02:00

DateTime input (UTC):
  Sunrise: 2023-06-21T03:18:05

Date input (UTC 00:00):
  Sunrise: 2023-06-21T03:18:05</code></pre><p>Note that <code>DateTime</code> and <code>Date</code> inputs produce results in UTC, while <code>ZonedDateTime</code> preserves the input timezone. For Amsterdam in summer, the local time is UTC+2 (CEST), which explains the 2-hour difference in the sunrise times shown above.</p><h2 id="Forward-looking-functions"><a class="docs-heading-anchor" href="#Forward-looking-functions">Forward looking functions</a><a id="Forward-looking-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Forward-looking-functions" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="SolarPosition.Utilities.next_sunrise"><a class="docstring-binding" href="#SolarPosition.Utilities.next_sunrise"><code>SolarPosition.Utilities.next_sunrise</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">next_sunrise(
    obs::Observer,
    dt::Dates.DateTime
) -&gt; Dates.DateTime
next_sunrise(
    obs::Observer,
    dt::Dates.DateTime,
    alg::SolarAlgorithm
) -&gt; Dates.DateTime
</code></pre><p>Calculate the next sunrise after a given DateTime at an Observer location.</p><p><strong>Arguments</strong></p><ul><li><code>obs</code>: Observer location</li><li><code>dt</code>: DateTime to start searching from</li><li><code>alg</code>: Solar algorithm to use (default: SPA())</li></ul><p><strong>Returns</strong></p><ul><li>DateTime of the next sunrise after <code>dt</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/SolarPosition.jl/blob/cae2fcaa1b16915386c2f665af2b4575a1451785/src/Utilities/srt.jl#L135-L147">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SolarPosition.Utilities.next_sunset"><a class="docstring-binding" href="#SolarPosition.Utilities.next_sunset"><code>SolarPosition.Utilities.next_sunset</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">next_sunset(
    obs::Observer,
    dt::Dates.DateTime
) -&gt; Dates.DateTime
next_sunset(
    obs::Observer,
    dt::Dates.DateTime,
    alg::SolarAlgorithm
) -&gt; Dates.DateTime
</code></pre><p>Calculate the next sunset after a given DateTime at an Observer location.</p><p><strong>Arguments</strong></p><ul><li><code>obs</code>: Observer location</li><li><code>dt</code>: DateTime to start searching from</li><li><code>alg</code>: Solar algorithm to use (default: SPA())</li></ul><p><strong>Returns</strong></p><ul><li>DateTime of the next sunset after <code>dt</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/SolarPosition.jl/blob/cae2fcaa1b16915386c2f665af2b4575a1451785/src/Utilities/srt.jl#L162-L174">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SolarPosition.Utilities.next_solar_noon"><a class="docstring-binding" href="#SolarPosition.Utilities.next_solar_noon"><code>SolarPosition.Utilities.next_solar_noon</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">next_solar_noon(
    obs::Observer,
    dt::Dates.DateTime
) -&gt; Dates.DateTime
next_solar_noon(
    obs::Observer,
    dt::Dates.DateTime,
    alg::SolarAlgorithm
) -&gt; Dates.DateTime
</code></pre><p>Calculate the solar noon (transit) time for a given DateTime at an Observer location. If the solar noon for the current day has already passed, returns the solar noon for the next day.</p><p><strong>Arguments</strong></p><ul><li><code>obs</code>: Observer location</li><li><code>dt</code>: DateTime to start searching from</li><li><code>alg</code>: Solar algorithm to use (default: SPA())</li></ul><p><strong>Returns</strong></p><ul><li>DateTime of the next solar noon (transit) after <code>dt</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/SolarPosition.jl/blob/cae2fcaa1b16915386c2f665af2b4575a1451785/src/Utilities/srt.jl#L189-L202">source</a></section></details></article><h2 id="Backward-looking-functions"><a class="docs-heading-anchor" href="#Backward-looking-functions">Backward looking functions</a><a id="Backward-looking-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Backward-looking-functions" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="SolarPosition.Utilities.previous_sunrise"><a class="docstring-binding" href="#SolarPosition.Utilities.previous_sunrise"><code>SolarPosition.Utilities.previous_sunrise</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">previous_sunrise(
    obs::Observer,
    dt::Dates.DateTime
) -&gt; Dates.DateTime
previous_sunrise(
    obs::Observer,
    dt::Dates.DateTime,
    alg::SolarAlgorithm
) -&gt; Dates.DateTime
</code></pre><p>Calculate the previous sunrise before a given DateTime at an Observer location.</p><p><strong>Arguments</strong></p><ul><li><code>obs</code>: Observer location</li><li><code>dt</code>: DateTime to start searching from</li><li><code>alg</code>: Solar algorithm to use (default: SPA())</li></ul><p><strong>Returns</strong></p><ul><li>DateTime of the previous sunrise before <code>dt</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/SolarPosition.jl/blob/cae2fcaa1b16915386c2f665af2b4575a1451785/src/Utilities/srt.jl#L217-L229">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SolarPosition.Utilities.previous_sunset"><a class="docstring-binding" href="#SolarPosition.Utilities.previous_sunset"><code>SolarPosition.Utilities.previous_sunset</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">previous_sunset(
    obs::Observer,
    dt::Dates.DateTime
) -&gt; Dates.DateTime
previous_sunset(
    obs::Observer,
    dt::Dates.DateTime,
    alg::SolarAlgorithm
) -&gt; Dates.DateTime
</code></pre><p>Calculate the previous sunset before a given DateTime at an Observer location.</p><p><strong>Arguments</strong></p><ul><li><code>obs</code>: Observer location</li><li><code>dt</code>: DateTime to start searching from</li><li><code>alg</code>: Solar algorithm to use (default: SPA())</li></ul><p><strong>Returns</strong></p><ul><li>DateTime of the previous sunset before <code>dt</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/SolarPosition.jl/blob/cae2fcaa1b16915386c2f665af2b4575a1451785/src/Utilities/srt.jl#L244-L256">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SolarPosition.Utilities.previous_solar_noon"><a class="docstring-binding" href="#SolarPosition.Utilities.previous_solar_noon"><code>SolarPosition.Utilities.previous_solar_noon</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">previous_solar_noon(
    obs::Observer,
    dt::Dates.DateTime
) -&gt; Dates.DateTime
previous_solar_noon(
    obs::Observer,
    dt::Dates.DateTime,
    alg::SolarAlgorithm
) -&gt; Dates.DateTime
</code></pre><p>Calculate the previous solar noon (transit) before a given DateTime at an Observer location.</p><p><strong>Arguments</strong></p><ul><li><code>obs</code>: Observer location</li><li><code>dt</code>: DateTime to start searching from</li><li><code>alg</code>: Solar algorithm to use (default: SPA())</li></ul><p><strong>Returns</strong></p><ul><li>DateTime of the previous solar noon (transit) before <code>dt</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/SolarPosition.jl/blob/cae2fcaa1b16915386c2f665af2b4575a1451785/src/Utilities/srt.jl#L271-L283">source</a></section></details></article><h2 id="Docs"><a class="docs-heading-anchor" href="#Docs">Docs</a><a id="Docs-1"></a><a class="docs-heading-anchor-permalink" href="#Docs" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="SolarPosition.Utilities.transit_sunrise_sunset"><a class="docstring-binding" href="#SolarPosition.Utilities.transit_sunrise_sunset"><code>SolarPosition.Utilities.transit_sunrise_sunset</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Calculate the sun transit, sunrise, and sunset for a given date at an Observer location.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/SolarPosition.jl/blob/cae2fcaa1b16915386c2f665af2b4575a1451785/src/Utilities/srt.jl#L60-L63">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SolarPosition.Utilities.TransitSunriseSunset"><a class="docstring-binding" href="#SolarPosition.Utilities.TransitSunriseSunset"><code>SolarPosition.Utilities.TransitSunriseSunset</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct TransitSunriseSunset{T&lt;:Union{Dates.DateTime, TimeZones.ZonedDateTime}}</code></pre><p>Struct to hold the results of sun transit, sunrise, and sunset calculations.</p><p>The datetime fields are in UTC unless a TimeZone is provided, in which case they are converted to that timezone assuming the input DateTime was in UTC.</p><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">TransitSunriseSunset{DateTime}(
    transit::DateTime,
    sunrise::DateTime,
    sunset::DateTime,
    ::Nothing,
)
TransitSunriseSunset{ZonedDateTime}(
    transit::DateTime,
    sunrise::DateTime,
    sunset::DateTime,
    tz::TimeZone,
)</code></pre><p><strong>Fields</strong></p><ul><li><p><code>transit::Union{Dates.DateTime, TimeZones.ZonedDateTime}</code></p></li><li><p><code>sunrise::Union{Dates.DateTime, TimeZones.ZonedDateTime}</code></p></li><li><p><code>sunset::Union{Dates.DateTime, TimeZones.ZonedDateTime}</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAstro/SolarPosition.jl/blob/cae2fcaa1b16915386c2f665af2b4575a1451785/src/Utilities/srt.jl#L3-L29">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../refraction/">« Refraction Correction</a><a class="docs-footer-nextpage" href="../deltat/">Delta T (ΔT) »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 16 January 2026 01:04">Friday 16 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
